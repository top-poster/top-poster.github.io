---
layout: post
title: "2021년 리액션 후크 알아보기"
author: "Logger"
thumbnail: "undefined"
tags: 
---


![A laptop computer](https://miro.medium.com/max/10486/0*Y4kEYIy9WEhSMWex)

아직도 클래스 기반 React 구성 요소를 사용하고 있습니까? 리액트 훅스를 사용할 기회가 없었나요? 여러분만이 아닙니다. React Hooks는 오랜 시간이 지났지만, 일부 개발자들은 아직 이러한 제품을 사용할 여유가 없습니다.

이 문서에서는 클래스 기반 구성 요소를 어떻게 반응 후크로 변환할 수 있는지 보여 줍니다. 또한 각 훅에 대해 자세히 살펴보고 코드 샘플과 연습을 통해 그 기능에 대해 설명하겠습니다. 이 기사의 마지막에는 기본적인 리액트 훅의 마스터가 되어야 합니다.

# 반응 구성 요소

다음 예제를 따르고 데모 반응 앱에서 만드십시오. 실제 경험을 많이 쌓을수록 구문과 개념에 더 익숙해질 것입니다.

## 클래스 기반 구성 요소 대응

먼저 간단한 클래스 기반 구성 요소를 살펴보고 Hook을 사용하여 변환하는 방법을 살펴보겠습니다.

이것은 일반적인 클래스 기반 구성 요소입니다. 이제 기능적인 구성 요소를 위한 구성 요소를 살펴보겠습니다. 수업을 하는 대신, 우리는 모든 것을 다루는 하나의 기능을 가질 것입니다. 이 함수는 `렌더` 방식을 별도로 사용하는 대신 새로운 `렌더` 방식을 사용합니다.

## 기능 구성 요소 템플릿

그만큼 쉽죠! 이것은 소품을 매개 변수로 받는 렌더 방법과 비슷합니다. 소품을 보다 읽기 쉽게 만드는 일반적인 방법은 스프레드 오퍼레이터를 사용하여 소품을 파괴하는 것입니다.

이렇게 하면 어떤 소품이 나올지 확연히 알 수 있다. TypeScript와 함께 이 작업을 수행하면 React `PropType`이 중복될 수 있습니다.

# 반응 상태 후크

기능 관련 작업을 하다 보니 기존 클래스 기반 구성 요소에서 사용하던 `이것`이 실제로 존재하지 않습니다. 리액트는 이 문제를 해결하기 위해 후크를 내놓았다. 기능 구성 요소 내에서 이전에 사용 가능했던 개념에 액세스하는 데 사용할 수 있는 코드 조각입니다.

국가의 경우 리액트의 useState 후크를 사용할 수 있습니다. 관심 있는 경우, 여기 사용 상태에 대한 공식 대응 문서가 있습니다. 먼저 설명서에 정의된 `사용 상태` 변수를 정의하겠습니다.

useState 구문이 상당히 이상하게 보인다는 것을 곧 알게 될 것이다. 우리가 즉시 파괴하고 있기 때문입니다. useState 후크는 두 개의 항목을 포함하는 배열을 반환합니다. 첫 번째 항목은 상태 변수의 `값`입니다. 두 번째 항목은 상태 변수에 대한 `설정기 방법`입니다. 상태의 `headingText` 값을 업데이트한다고 가정해 보겠습니다. 이를 위해 두 번째 항목에 반환된 변수를 사용할 수 있습니다. 예는 다음과 같습니다.

여러 상태 변수에서 이러한 현상은 어떤 모습일까요? 각 상태 변수에 대해 다음 `사용 상태` 후크를 사용해야 합니다.

또한 우리는 항상 `useState` 방식에 문자열을 전달한다는 점도 유의해야 한다. `UseState`는 이 값을 상태 변수의 기본값으로 사용하므로 문자열이 아니어도 됩니다. 즉, 부울, 객체 또는 원하는 모든 것이 될 수 있습니다.

# 연습: 상태 사용 — 후크를 사용하여 클릭 카운터 구현

이전 예를 다시 살펴보면 상태가 어떻게 사용될 수 있는지 알 수 있지만, 이 예에서는 특별히 유용하지 않습니다. 함께 use State에 대한 실습을 마칩시다.

기능 구성 요소에 `useState` Hook을 사용하여 클릭 카운터를 생성해 보겠습니다. 구성 요소는 버튼을 렌더링해야 하며 버튼을 누를 때마다 단락에 버튼 클릭 수가 표시됩니다. 상태 사용 후크를 사용하여 상태 내 클릭 수를 유지해야 합니다.

또한 초기 클릭량을 지정된 값으로 설정하는 소품을 구현한다. 즉, 부품에 `20`이 주어지면 처음부터 `20 클릭`이 표시되어야 한다.

준비가 되었으면 이미지 아래로 스크롤하여 솔루션을 찾으십시오.

![Image for post](https://miro.medium.com/max/8000/0*eHqznNZ2JUxvQzq4)

해결 방법은 다음과 같습니다.

무슨 어려움은 없었나요? 댓글로 알려주세요.

# 라이프사이클 및 사용 효과 대응

이제 기능 구성요소를 만들고 `사용 상태` 후크를 사용하는 방법을 알게 되었다. 그러나 라이프사이클 이벤트는 어떻습니까?

## React componentDidUpdate

클래스 기반의 컴포넌트 디드업데이트 기능을 사용하여 컴포넌트의 소품 변화를 들을 수 있었다. 갈고리로 이걸 어떻게 하죠?

바로 여기에 `이용 효과` 후크가 들어온다. 종속성 값이 변경될 때마다 지정된 함수를 트리거합니다. 이 후크는 배열을 반환하지 않으며, 실행 중에 특정 변수가 변경될 때 특정 코드를 실행할 수 있습니다.

use Effect는 실행할 함수와 종속성 목록의 두 가지 매개 변수를 예상합니다. 종속성 목록은 변수의 목록입니다. 이러한 변수가 변경될 때마다 첫 번째 파라미터에 지정된 기능이 실행됩니다.

## 반응 구성 요소 DidMount

클래스 기반 React에서 우리는 componentDidMount라는 함수를 가지고 있었다는 것을 기억하십니까? 구성 요소가 페이지에 마운트될 때마다 기능이 실행됩니다. use Effect로 종속성 목록을 제공해야 하는데 componentDidMount를 대체하기에 적합하지 않은가? 꼭 그렇지는 않아요. 소매에 속임수가 있어요.

빈 목록을 종속성 목록으로 전달하면 첫 번째 매개 변수로 제공된 기능이 `componentDidMount`와 유사한 방식으로 실행됩니다. 이 기능을 사용해 보고 이전의 클릭 카운터 예를 확장해 보겠습니다! 이 동작의 경우 빈 목록은 필수 사항입니다. 개발자들이 흔히 저지르는 실수는 목록을 정의하는 것을 잊는 것이다. [] 대신 undefined`가 주어지면 use Effect는 componentDidMount처럼 동작하지 않는다.

# 컨텍스트 후크 대응

리액트팀이 `기본`으로 분류한 세 번째이자 마지막 후크는 맥락 후크다. 이렇게 하면 응용 프로그램의 맨 위에서 모든 재귀 하위로 데이터를 전달할 수 있습니다. 이것은 종종 테마 제공자와 같은 제공자를 만드는 데 유용하므로 모든 구성요소가 앱의 테마 스타일에 액세스할 수 있습니다.

참고로, 컨텍스트 사용 후크를 사용하여 컨텍스트를 전달할 수는 있지만 업데이트할 수는 없습니다! 응용 프로그램에 필요한 경우 대신 Redux와 같은 상태 관리자를 확인해야 합니다.

이 후크에 대한 자세한 내용은 자세히 설명하지 않지만, 다음은 대응 문서의 사용 예와 주석입니다.

# 반응 사용 메모 후크: 성능 최적화

리액션은 애플리케이션 성능을 향상시키기 위해 `사용 메모 후크`를 제공한다. useMemo 후크는 useEffect와 유사한 두 가지 인수인 실행 함수 및 종속성 목록을 받아들인다. `use Effect`와의 한 가지 차이점은 이 후크는 함수의 값을 반환하여 함수의 값을 함수 구성 요소 내에서 사용할 수 있다는 것이다.

종속성 목록이 변경되지 않는 한 `UseMemo`는 메서드의 값을 캐시합니다. 즉, 종속성 목록의 값 중 하나가 변경되지 않으면 값을 계산하는 방법이 실행되지 않습니다.

이 기능은 참조로 변수를 사용할 때 특히 유용합니다. 기능 구성 요소에 배열이 정의되어 있으면 다시 렌더링할 때 참조가 계속 변경됩니다. 이 배열이 하위 구성 요소로 전달되면 이러한 구성 요소는 실제로 필요하지 않은 경우에도 계속 다시 렌더링됩니다.

useMemo를 사용할 때, 우리는 그 값을 계산하는 종속성 중 하나가 변경될 때까지 어레이와 참조를 캐싱함으로써 이러한 동작을 피할 수 있다. 예를 들어 보겠습니다.

통과 기준 변수의 경우, `useMemo`는 주 구성 요소의 모든 렌더에서 하위 구성 요소를 다시 렌더링하지 않도록 하는데 유용할 수 있다. 왜냐하면 우리는 모든 렌더에서 변수 참조를 재정의하는 대신 변수 참조를 캐싱하고 있기 때문입니다. 이래서야 `메모 사용`을 쓸 수 있을까. 꼭 그렇진 않아요. 대규모 처리에 매우 유용할 수 있습니다.

리액션에 메모 사용해야 합니까? 반응 애플리케이션에서 `사용 메모`를 사용해야 하는 시기를 정확히 파악하기 위한 벤치마크 분석입니다.

공식 문서 페이지에서 memo hook 사용에 대해 자세히 살펴봅니다.

# 대응 콜백 후크

useCallback 후크는 useMemo 후크와 유사하지만 변수 값을 메모하는 대신 함수를 기억한다. 동일한 개념에서 작동하며, 모든 렌더에서 함수의 변화를 피하기 위해 종속성 중 하나가 변경될 때까지 함수를 캐시합니다.

이렇게 하면 이 기능을 소품으로 수신하는 하위 구성 요소에서 불필요한 리렌더를 방지할 수 있습니다.

# 반응 후크 목록

위에서 설명한 후크는 React에서 사용해야 할 더 중요한 몇 가지입니다. 물론 React에는 다른 후크가 있습니다. 공식 문서에서 React에서 정의한 유형별 후크 목록이 여기에 있습니다.

## 기본 후크

## 고급 후크

## 타사 후크

누구나 반응에 대한 추가 후크를 만들 수 있습니다. 유명한 React 상태 매니저인 Redux는 기능 구성요소 내에서 Redux 상태 데이터를 검색하기 위해 use Selector(선택기 사용) 후크를 생성했다. Redux가 이미 설정되어 있는 경우 이 후크를 사용하여 Redux 데이터를 검색하는 것은 식은 죽 먹기입니다.

# 훅스 치트 시트

# 요약

React 개발의 최신 동향은 후크를 사용하는 쪽으로 이동하는 것이다. 후크와 클래스 기반 구성 요소는 상호 운용 및 호환됩니다! 이전 구성요소를 클래스 기반으로 유지하면서 새로운 구성요소를 기능 구성요소로 만들 수 있습니다.

하지만 걱정하지 마십시오. React는 곧 클래스 기반 구성 요소를 제거할 수 없습니다.

# 다음에 할 일이 뭐죠?

연습, 연습, 연습! Hooks와 더 많은 실제 경험을 쌓을수록 Hooks에 더 빨리 익숙해질 것입니다. 리액트 후크를 사용하여 일부 애완동물 프로젝트를 만듭니다. 그것은 재미있고, 여러분은 멋진 프로젝트를 얻을 수 있을 거예요!

React 훅에 대한 다음 기사를 계속 시청해 주십시오. 이 기사에서는 자체적인 맞춤형 React 훅을 만들 것입니다.

# 추가 스터디 리소스