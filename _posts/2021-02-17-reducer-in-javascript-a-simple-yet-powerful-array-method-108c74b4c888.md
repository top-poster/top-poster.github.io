---
layout: post
title: "JavaScript의 감소기: 단순하면서도 강력한 어레이 방식"
author: "Logger"
thumbnail: "undefined"
tags: 
---


![Two hands holding puzzle pieces](https://miro.medium.com/max/3840/1*JKgPrABi1HogqCHyaU0VNw.jpeg)

자바스크립트의 `리듀서`는 개발자의 무기고에서 가장 유용한 어레이 방식 중 하나이다. ES5에 소개된 이 제품은 어레이와 함께 사용되지만 특정 상황에서 성능과 단순성을 향상시키는 `각각`과 `지도` 방식과 다소 유사하다.

`축소` 방법은 어레이에 저장된 각 요소에 대해 제공하는 콜백 함수를 실행하고 작업에서 생성된 최종 값을 출력한다. 이는 어레이에 저장된 데이터를 반복하고 처리하는 더 깨끗한 방법입니다.

현재 모든 주요 브라우저 버전에서 지원되며 버전 10.0부터 Node.js에서 사용할 수 있습니다.

오늘은 `축소` 방식을 살펴보겠습니다. 다른 시나리오에서 `감산기`를 어떻게, 언제 사용해야 하는지 살펴보겠습니다.

그럼 시작합시다!

# JavaScript 메서드 축소 매개 변수

reduce 메서드는 콜백으로 사용되는 배열에 대한 reduce 함수와 선택적 `initialValue` 인수의 두 가지 인수를 허용합니다. 감소 함수는 네 가지 인수를 사용합니다. `축적자`, `현재 값`, `현재 값`인덱스` 및 `어레이`입니다.

```undefined
arr.reduce(callback(어큐뮬레이터, currentValue, [, index[, array])[, initialValue]])
```

다음은 실행 중인 JavaScript 어레이 `reduce` 방법의 예입니다.

```undefined
[0, 1, 2, 3, 4]. 감소((축적기, 전류 값, 전류)색인, 배열) => 축전지 + 전류값);
```

이 `reduce` 방법은 다음과 같은 `for… 각` 루프와 동일한 작업을 수행하지만 코드 행은 더 적습니다.

```undefined
constarray = [0, 1, 2, 3, 4];
합계 = 0으로 하다
array. 각(숫자 => {)
합계 += 숫자
});
```

이러한 매개 변수를 사용하여 `축소` 방법을 사용하면 어떻게 이를 달성할 수 있습니까?

`감산기` 함수에 의해 반환되는 값은 `축적기` 변수에 할당됩니다. 배열 항목을 통과하는 각 반복에서 `accumulator` 값은 반환된 결과로 업데이트됩니다. 반복 종료 시, `축적기`의 최종값은 `축소` 함수의 출력으로 반환된다.

초기값 인수가 통과되면 `감산기` 함수가 처음 실행될 때 `계산기`는 초기값과 같고 `현재값`은 배열에 저장된 첫 번째 요소와 같습니다. 초기 값이 통과되지 않으면 `accumulator`는 배열의 첫 번째 값과 같고 `current Value`는 두 번째 값과 같습니다.

다음 예제에서 콜백 함수를 호출할 때마다 이러한 각 매개 변수의 값이 어떻게 변경되는지 살펴보겠습니다. 여기서는 `초기값` 인수를 전달하지 않습니다.

```undefined
[0, 1, 2, 3, 4]. 감소((축적기, 전류 값, 전류)색인, 배열) => 축전지 + 전류값);
```

![Table with data](https://miro.medium.com/max/2752/1*kPzOf5nklwMYylgUd2obBg.png)

이 함수의 최종 출력은 10이다.

다음으로, `초기 값`이 전달될 때 어떻게 작동하는지 살펴보겠습니다.

```undefined
[0, 1, 2, 3, 4]. 감소((축적기, 전류 값, 전류)색인, 배열) => 축전지 + 전류값, 12);
```

![Table with data](https://miro.medium.com/max/2740/1*ARzE5dU5oQy9RCGOE3m-Gg.png)

이 함수는 값 `22`를 출력한다.

# 감압기 사용 시기

`축소` 방법은 배열의 항목을 반복하여 처리하는 독특한 방법을 제공합니다. 그렇다면 우리가 이 독특함으로부터 이익을 얻을 수 있는 상황은 무엇일까요?

## 배열의 값 합계 계산

이것은 우리가 이전의 예에서 했던 것과 비슷하다. 유일한 차이점은 `initial Value` 파라미터에 대해 `0`을 통과해야 한다는 것입니다.

```undefined
합계 = [34, 12, 143, 13, 76]. 감소(((조절기, 전류 값) = 축전지 + 전류 값, 0);
```

## 배열 평활화

배열이 있는 경우 `축소` 방법을 사용하여 평활하고 중첩 배열 없이 단일 배열을 만들 수 있습니다.

```undefined
배열 = [0, 1], [2, 3], [4, 5], [5, 6],
평탄한 Array = array.reduce((변환기, 현재 값) => 어큐뮬레이터.concat(현재 값), [];
```

빈 배열을 초기 값으로 전달하여 첫 번째 배열의 항목이 그것과 연결되어 평탄한 배열을 만든다.

첫 번째 어레이에 둘 이상의 중첩 어레이 레벨이 있는 경우 반복하여 `축소` 함수를 호출하여 평평하게 만든 다음 최종 어레이와 연결할 수 있습니다.

콜백에 의해 수락된 현재 값이 `isArray` 방법을 사용하여 확인된 배열인 경우, 우리는 콜백에 대해 `flattenArray` 함수를 재귀적으로 호출한다. 현재 값이 배열이 아닌 경우 최종 평활 배열과 해당 값을 연결하기만 하면 됩니다.

## 속성별로 개체 배열 그룹화

우리가 일련의 시골 물건들을 가지고 있다고 가정해 보자. 우리는 각 나라를 그들의 대륙에 따라 분류하고 싶습니다. 이 작업에 `축소` 방법을 사용할 수 있습니다.

콜백 함수 안에서 우리는 `그룹화된 국가` 지도에 없는 각 대륙에 대해 새로운 키를 생성하고 그 값으로 빈 배열을 할당한다. 그런 다음 각 국가의 개체를 각 대륙이 저장한 배열로 이동합니다.

# 필터(.map() 대신 reduct() 사용

JavaScript에서는 `filter` 방법을 사용하여 콜백을 사용하여 배열에 저장된 항목을 필터링합니다. 우리는 콜백 안에 전달된 논리를 사용하여 이전 배열을 사용하여 새 배열을 만들 때 `map` 방법을 사용한다. 때로는 이 두 가지 방법을 차례로 사용하여 특정 조건을 사용하여 필터링한 결과로 새 배열을 만들어야 합니다.

두 가지 어레이 방법을 사용하는 대신 JavaScript `array reduct` 방법을 사용하여 동일한 작업을 완료할 수 있습니다. 이제 두 번이 아니라 한 번만 어레이를 반복하므로 완료 시간이 단축됩니다.

예를 들어, 30보다 큰 수의 제곱근 배열을 만들려는 다음 시나리오를 살펴보겠습니다.

```undefined
숫자 = [3, 21, 34, 121, 553, 12, 53, 5, 42, 11],
newArray = 숫자를 입력합니다.필터(숫자 = 숫자 > 30).map(숫자 => 산술.sqrt(숫자);
```

reduce를 사용하여 구현한 동일한 시나리오는 다음과 같다.

콜백 내부에서는 단순히 숫자가 30보다 큰지 확인하고 그 제곱근을 `축적자` 배열에 추가하기만 하면 된다. 이 결과를 얻으려면 빈 배열을 초기 값으로 전달해야 합니다.

# 나만의 리듀서 구축

이 절에서는 `감쇠기` 기능을 직접 구현해 어떻게 일이 진행되는지 살펴볼 예정이다. 이렇게 하면 프로그램에서 최적의 성능을 위해 `리듀서`를 언제 사용해야 하는지 더 잘 알 수 있습니다.

먼저, 우리는 `축소` 방법이 null 또는 정의되지 않은 개체에서 호출되었는지 여부를 확인합니다. 그런 다음 전달된 콜백이 함수인지 확인합니다.

초기 유형 검사 후 전달된 `initial Value`를 `accumulator`에 할당한다. 그런 다음 어레이를 순환하고 어레이의 각 항목에 대한 콜백을 호출합니다. 실행이 끝날 때 우리는 `축적자` 값을 반환해야 한다.

우리는 이 구현을 통해 `축소` 방법이 실제로 어떻게 작동하는지 이해할 수 있습니다. 예를 들어 `for` 루프를 사용하여 후드 아래의 배열을 반복하는 것을 볼 수 있습니다.

그러나 프로덕션 코드에서 이 구현을 사용하면 안 됩니다. 사실, 자바스크립트 표준 타입에 대한 프로토타이핑 방법은 절대로 해서는 안 되는 잘못된 코딩 관행입니다.

# 요약

이 기사에서는 가장 유용한 자바스크립트 어레이 방법 중 하나인 `리듀서`에 대해 논의하였다. 어떻게, 언제 사용할지 논의했고 아예 우리만의 `줄이기` 방식까지 만들었다.

이 지식이 앞으로 `감축기`를 사용함으로써 해결될 수 있는 문제를 파악하는 데 도움이 되기를 바란다. 이러한 사용 사례 중 일부는 각 사용, 지도, 필터 배열 방법과 겹치므로 감소 방법을 사용하여 최적으로 해결할 수 있는 상황을 선택하는 방법을 알아야 한다.