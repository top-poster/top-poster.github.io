---
layout: post
title: "Next.js 앱을 도킹하는 4단계"
author: "Logger"
thumbnail: "undefined"
tags: 
---


![A ship floating on the sea.](https://miro.medium.com/max/10368/0*kQQ9z8WrS_ptso-A)

# 도커 컨테이너란 무엇인가?

컨테이너는 코드와 종속성을 압축적으로 패키징하는 데 도움이 되는 소프트웨어 단위입니다. 이를 통해 다양한 환경에서 애플리케이션을 효율적이고 안정적으로 실행할 수 있다는 것이 주요 이점은 다음과 같습니다.

코드와 종속성을 패키징하면 도커 이미지가 생성됩니다. 이 이미지에는 시스템 도구와 라이브러리 등 앱 실행에 필요한 모든 것이 포함됩니다.

우리가 이 이미지들을 만들고 실행시키면, 그것들은 도커 컨테이너가 됩니다. 다시 한 번 강조하지만, 이러한 작업의 큰 이점은 Linux나 Windows 등 어떤 OS를 사용하든 간에 동일한 방식으로 소프트웨어를 실행할 수 있도록 돕는 것입니다. 도커 컨테이너가 제공하는 이러한 균일성은 특히 프로덕션용 앱을 배포할 때 매우 중요합니다.

최근에는 컨테이너형 앱이 VM(가상 머신)을 통해 애플리케이션을 실행하는 기존 방식을 대부분 차지했습니다. VM을 실행하려면 기본 OS의 전체 복사본이 필요하며, 시스템 라이브러리, 툴 등을 전체적으로 복제하는 데 얼마나 많은 공간이 사용될지 짐작할 수 있습니다!

# 시작하자

이제 컨테이너 요약을 다루었으므로 Next.js 앱의 컨테이너화를 시작하겠습니다.

## 1. 프로젝트 생성

데모를 위해 다음 명령을 사용하여 새 Next.js 프로젝트를 만듭니다.

```undefined
실이 다음 앱을 만듭니다.
```

메시지에 따라 새 Next.js 프로젝트 생성을 완료하십시오.

프로젝트 디렉토리 내에서 yarn dev를 실행하여 모든 것이 정상적으로 실행되고 있는지 테스트해 보겠습니다.

## 2. 도커 파일 추가

이제 도커 파일을 추가합니다. 프로젝트 디렉터리의 루트에서 다음 조각을 `도커 파일`이라는 이름의 파일에 추가합니다.

도커 파일은 꽤 설명이 되네요. 코드 순서대로, 우리는:

참고: yarn 대신 npm을 사용하는 경우 해당 명령(예: yarn install 대신 npm install)만 업데이트합니다.

## 3. Docker Composer 추가

Docker Composer는 다중 컨테이너 앱을 실행하기 위한 도구입니다. Docker Engine을 사용하여 애플리케이션을 조정할 수 있습니다.

프로젝트 디렉터리의 루트에 다음 조각을 `docker-compose.yml`로 추가하겠습니다.

이 조각은 컨테이너의 포트 `3000`을 외부에 노출시키고 사용할 도커 파일을 지정합니다. 볼륨 섹션은 특히 개발 목적으로 Next.js 앱을 핫 재로드할 수 있도록 지원합니다.

## 4. 앱 실행

앱을 실행하려면 프로젝트 디렉터리의 루트에서 다음 명령을 사용합니다.

```undefined
독수리업-d --build
```

이 명령은 이미지를 빌드하고 분리된 모드(즉, 배경)에서 컨테이너로 시작합니다.

실행 중인 컨테이너를 보려면 다음을 사용하십시오.

```undefined
독수리 -a
```

![Screenshot of the terminal.](https://miro.medium.com/max/2580/1*XeHmH94R0cL8FKkUE2zkIA.png)

컨테이너의 도커를 보려면 다음을 사용하십시오.

```undefined
도커 로그 -f <id
```

![Screenshot of the terminal after using docker logs -f <container_id>.](https://miro.medium.com/max/2580/1*qIcv9JI-wx76SXFTtEE1dg.png)

# That's All Pople

잘했어! Next.js 응용 프로그램을 컨테이너로 연결하는 데 필요한 단계는 네 가지입니다.

읽어주셔서 감사합니다. 해피 해킹!