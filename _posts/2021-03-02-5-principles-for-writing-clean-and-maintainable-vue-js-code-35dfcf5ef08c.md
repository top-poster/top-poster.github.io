---
layout: post
title: "5 청결하고 유지관리 가능한 Vue.js 코드 작성 원칙"
author: "Logger"
thumbnail: "undefined"
tags: 
---


![A clear jar of pink, orange and white candies.](https://miro.medium.com/max/4000/1*MYXTzQCM_XX8_cKVYkt_Xg.png)

클린 코드에는 많은 전력이 있습니다. 깨끗한 코드는 시간이 지나도 좋아지지 않을 수도 있고, 고급 와인과 같은 방식으로는 더 좋아지지 않을 수도 있지만, 적어도 시간이 흐를수록 이해할 수 있다.

반면에 스파게티 코드는 시간이 지날수록 더 나빠진다. 지금은 혼란을 감당할 수 있을지도 모르지만, 만약 다른 일을 하고 3개월, 5개월, 20개월 후에 다시 돌아온다면 어떨까요?

Vue.js 프로젝트를 포함하여 프로그래머로서 고수하고 싶은 주요 원칙 중 하나는 DRY 원칙이다.

DREY는 반복하지 말라는 뜻이고, 반복을 줄이는 것이 목표입니다.

제가 이것이 중요하다고 주장하는 이유는 WET(모든 것을 두 번 작성) 솔루션은 많은 경우 추가적인 복잡성을 야기하는 경향이 있기 때문입니다. 이해를 돕기 위해 간단한 예를 하나 들어보겠습니다.

코드베이스의 두 곳에 중복 코드가 있다고 가정해 보겠습니다. 만약 당신이 논리나 몇몇 변수들을 바꾸기로 결정한다면? 두 곳 모두 코드를 리팩터링해야 합니다. 하지만 그게 얼마나 나쁠까요?

코드를 깨끗하게 유지하면 많은 문제로부터 사용자를 보호할 수 있으며, 또한 많은 시간을 절약할 수 있습니다. 단기적으로는 분명하지 않아 보일 수 있지만 장기적으로는 생산성의 측면에서 클린 코드가 훨씬 우수한 옵션이다.

# 믹신 사용

Vue에서 재사용 가능한 메서드, 데이터 속성, 계산된 속성 등을 생성하는 주요 방법은 혼합물을 생성하는 것입니다.

여러 구성 요소에서 논리를 재사용하는 경우, 응용프로그램 전체에서 사용할 수 있는 혼합물에 논리를 정의하는 것이 좋습니다.

응용 프로그램에 경로가 여러 개 있고 `vue-router`를 사용하여 각 경로를 해당 구성 요소와 연결한다고 가정해 보겠습니다.

```js
- App.vue
- 집입니다.비위를 맞추다
-- 분석.비위를 맞추다
-- 보고서.비위를 맞추다
```

이제 사용자가 탭을 입력할 때마다 시작할 사용자 지정 제품 둘러보기를 만들었다고 가정해 보겠습니다.

믹신을 사용하지 않고 제품 둘러보기를 모든 페이지에 표시하려면 동일한 코드를 각 `마운트` 콜백과 `제품 시작` 콜백에 복사해야 합니다.투어 방식도 마찬가지. 나는 `Home`을 썼다.vue 예제입니다. 그러나 Analytics에는 동일한 코드가 필요합니다.vue 및 reports.vue.

## 홈.뷰

```js
기본값 { 내보내기
마운트된 ➡{
this.startProductTour(;
}.
메서드: {
제품 둘러보기() {
// 여기에서 제품 둘러보기 작업 시작
}
}
}
```

하지만 위의 내용을 혼합물로 정의한다면…

제품둘러보기 믹신

```js
기본값 { 내보내기
마운트된 ➡{
this.startProductTour(;
}.
메서드: {
제품 둘러보기() {
// 여기에서 제품 둘러보기 작업 시작
}
}
}
```

…모든 구성 요소에 사용할 수 있습니다. 단 한 줄의 코드로 필요한 경우 어디에서나 사용할 수 있습니다. 또한 제품을 변경하는 경우 여러 파일을 편집하는 대신 한 번만 혼합을 업데이트하면 됩니다.

## 홈.뷰

```js
제품 가져오기TourMixin from '.../mixins/product둘러보기 믹싱;
기본값 { 내보내기
믹신: [제품]둘러보기 믹신]
}
```

이 경우 새로운 프로젝트 구조는 다음과 같습니다.

```js
- App.vue
- 믹신/제품투어 믹신
- 집입니다.비위를 맞추다
-- 분석.비위를 맞추다
-- 보고서.비위를 맞추다
```

믹신을 사용하면 시간과 노력을 절약하고 두통을 예방할 수 있습니다. 단지 깨끗하고 건조한 상태를 유지함으로써 말입니다.

# 구성 요소로 저렴해지지 않기

Vue의 첫 번째 애플리케이션 중 하나에서 제 구성 요소는 수백 또는 수천 줄의 코드로 확장될 것입니다. 내 기가 구성요소는 대용량 HTML<template>을 비롯한 내부 모든 작업을 수행할 수 있으며, 이러한 방법에는 많은 JavaScript가 포함되어 있습니다. 문제는 다음과 같습니다.

요점은 분명합니다. 많은 작은 부품 대신 하나 또는 몇 개의 대형 부품을 만드는 것은 악몽이 될 수 있습니다.

그렇다면 더 적은 수의 대형 구성 요소 대신 많은 소형 구성 요소를 만들면 어떤 이점이 있을까요?

대규모 애플리케이션에서는 개발을 관리할 수 있도록 전체 앱을 구성 요소로 분할해야 합니다.

이 인용구는 구성 요소에 대한 Vue 공식 문서에서 가져온 것이며, 앱을 구성 요소로 분할하는 것의 중요성을 설명합니다.

참고: 좋아하는 프레임워크와 기술에 대한 전체 문서를 읽으면 정보의 보물창고가 드러날 수 있으므로 자주 읽어보시기 바랍니다.

# 소품 확인

Vue 애플리케이션을 유지 보수하는 데 있어 소품 검증은 중요한 부분입니다.

먼저, 구성 요소에서 소품을 정의하는 잘못된 방법을 살펴보겠습니다.

```js
기본값 { 내보내기
소품: ['마이 프롭'],
}
```

이러한 소품 정의 방식은 개발 중에만 허용되지만, 실제로 사용하기 전에 소품에 대한 전체 정의를 작성해야 합니다. 최소한 소품 유형을 정의해야 합니다.

```js
// 빠른 길
기본값 { 내보내기
소품: {}
마이 프롭: 스트링,
}
}
// 이 옵션을 선택해야 합니다.
기본값 { 내보내기
소품: {}
마이 프롭: {
다음을 입력합니다. 스트링
}
}
}
```

그러나 가장 좋은 방법은 소품을 완전히 정의하고 검증하는 것입니다.

```js
소품: {}
마이 프롭: {
다음을 입력합니다. 번호,
필수: 참,
검증자: (값) => {
반환 값 > 0;
}
}
}
```

소품을 검증함으로써 예상치 못한 값 전달과 관련된 문제를 방지하고 개발 중에 이러한 오류를 파악하는 데 도움이 됩니다.

잘 정의된 소품을 갖추면 언제든지 소품 정의와 검증을 통해 예상되는 가치를 파악할 수 있습니다. 구성 요소가 기대하는 바를 미니 문서화한 것이라고 생각하십시오. 때로는 올바른 이름을 의미론적으로 1톤의 주석보다 잘 정의된 입력을 갖는 것이 좋습니다.

다시 한 번 말하지만, 클린 코드는 엉성 코드를 능가하므로 오류를 방지하고 언제든지 소품의 목적을 기억할 수 있습니다.

# 서비스를 사용하여 API와 상호 작용

Vue는 API와 상호 작용할 수 있는 서비스를 생성하고 공통 애플리케이션 로직을 구축할 수 있는 Angular와 같은 서비스를 제공하지 않습니다.

내 경험으로 볼 때, 프레젠테이션 논리를 가능한 한 응용 논리로부터 분리하는 것이 도움이 된다.

제 아이디어를 더 잘 설명하기 위해 예를 하나 들어보겠습니다. 보고서 테이블, 보고서 차트, 보고서 통계의 세 가지 하위 구성 요소를 포함하는 보고서 구성 요소를 가지고 있다고 가정해 보겠습니다.

## 보고서.비위를 맞추다

```js
<!-- 이 예는 의도적으로 단순하게 유지됩니다. -->
【➡】
= report-dister: ➡="➡" /➡
= 보고서-차트:차트 데이터="차트 데이터" / >
= 보고서 표: ➡="➡" /➡
</어디서나>
<스크립트>
기본값 { 내보내기
데이터 분석 {
{}을(를) 반환하다
통계: null,
차트 데이터: null,
분류: null입니다.
}
}
}
</스크립트>
```

이것은 `보고서` 구성 요소의 기반입니다. 이제 API에서 데이터를 가져올 수 있는 방법이 필요하게 되었습니다.

```js
마운트된 ➡{
이 .getStats(;
}
```

그리고 나면 다음과 같은 것이 생깁니다.

```js
메서드: {
통계 가져오기() {
axios.gets/api/to-get/the-data')
.그렇다면 (응답 => {
this.contract = response.data.contract
});
}
}
```

물론 나쁘지는 않습니다. 그리고 소규모 애플리케이션에서는 실제로 문제가 없을 수도 있습니다. 그러나 애플리케이션 로직을 프레젠테이션 로직에서 분리하면 다음과 같은 여러 가지 이점이 있습니다.

그러면 어떻게 우리의 사례를 서비스로 바꿀 수 있을까요?

## ReportsService.js

```js
const Reports Service = {
통계: {
인덱스: 비동기(/* 매개 변수 */) = {
const response = wait axios.get api-link';
return response.data;
}
}
}
기본 보고서 서비스 내보내기;
```

## 보고서.비위를 맞추다

```js
'.../services/ReportsService'에서 ReportService 가져오기;
기본값 { 내보내기
메서드: {
비동기 getStats() {
this.differ = wait ReportsService.stats.index(/* params */);
}
}
}
```

간단한 로직을 사용하여 백엔드 API와 상호 작용하거나 애플리케이션 로직을 구현할 수 있는 서비스를 만들었습니다. 그러면 Vue 구성 요소는 API 또는 애플리케이션 로직에 대한 더 이상의 세부 정보 없이 서비스와 상호 작용하고 필요한 데이터를 가져와 구성 요소에 전달할 수 있습니다.

# 스타일 가이드 팔로우

Vue 스타일 가이드에 깊이 들어가는 것은 이 기사의 범위를 벗어난다. 일반적으로 사용 중인 프레임워크가 어떻게 설계되었는지, 그리고 프레임워크와 함께 작업하는 방법을 배우는 것이 중요합니다.

프레임워크의 작성자들은 스타일 지침을 만들 올바른 경험을 가지고 있지만, 커뮤니티가 동일한 지침을 따를 가능성이 높기 때문에 일관성을 위해서도 그것들을 따르는 것이 중요하다.

가장 중요한 스타일 가이드 규칙은 다음과 같습니다.

## 데이터 개체 대신 데이터() 함수 사용

이는 잘못된 작업 방식입니다.

```js
기본값 { 내보내기
데이터: {}
값: 1,
}
}
```

이것이 올바른 방법입니다.

```js
기본값 { 내보내기
데이터 분석 {
{}을(를) 반환하다
값: 1,
}
}
}
```

객체가 아닌 함수를 사용해야 하는 이유는 개체를 사용하면 동일한 구성 요소의 모든 인스턴스에 의해 `데이터` 속성을 변경할 수 있기 때문입니다.

## 항상 v-for 키

Vue가 목록을 보다 효율적으로 렌더링할 수 있도록 도와주므로 모든 v-for 루프에는 키가 전달되어 있어야 합니다.

```js
<마이 아이템>
v-for="항목의 항목"
:key="item.id"
:항목="항목" />
<!-- 또는 HTML 요소를 사용하는 경우 -->
<div>
v-for="항목의 항목"
:key="item.id"
>
{품목.값}
</div>
```

## v-for와 동일한 요소에 v-if를 사용하지 않음

그 문서는 왜 이것이 나쁜 생각인지에 대해 꽤 명확하다. 항목 배열이 변경되지 않은 경우에도 Vue는 전체 목록을 다시 렌더링해야 하므로 이 값을 따르지 않는 것은 성능에 부정적인 결과를 초래합니다.

당신이 대체 할 수 있는 것과 왜 더 나은지 설명할게요.

대신에…

```js
<div v-for="항목의 항목" v-if="항목입니다.보여야 한다()">
{품목.값}
</div>
```

…다음 작업을 수행해야 합니다.

```js
= v-for=" 항목이 표시되지 않음항목">
{품목.값}
</div>
```

그리고 이것을 `컴퓨팅` 속성에 추가하세요.

```js
표시 항목() {
이것을 돌려주다필터(항목 => {
반품을 하다표시(;)해야 합니다.
});
}
```

이렇게 하면 다음과 같은 이점이 있습니다.

스타일 가이드에 대한 자세한 내용은 Vue 문서의 공식 섹션을 참조하십시오. 경험이 풍부한 Vue 개발자인 경우에도 Vue를 읽고 배울 점이 많을 수 있습니다.

# 결론

깨끗하고 유지 가능한 코드를 쓰는 것은 여러분과 함께 일하는 사람들의 삶을 더 쉽게 만들 것입니다. 하지만 그것은 또한 여러분이 처리해야 할 스파게티 코드 메시지가 적기 때문에 여러분의 삶을 더 좋게 만들 것입니다.

코드 리뷰를 하는 입장이라면, 팀이 고품질 코드를 배포하고 장기적으로 높은 생산성을 유지할 수 있도록 하기 위해 위의 많은 사항을 고려해야 합니다.

여기까지 읽어주셔서 감사합니다!