---
layout: post
title: "상태를 보다 효과적으로 처리하는 3가지 방법"
author: "Logger"
thumbnail: "undefined"
tags: 
---


![Image of code on a screen.](https://miro.medium.com/max/10368/0*Z7pvckYpPSiWvsz5)

리액션은 개발자에게 구성요소 내에서 상태를 관리하는 방법에 대한 완전한 자유를 부여합니다. React에는 클래스 구성 요소와 기능 구성 요소의 두 가지 유형이 있으며, React v16에 소개되었습니다.

클래스 구성 요소는 this.state 및 this와 같은 상태를 관리하는 방법을 사용합니다.State를 state로 설정하고 구성 요소가 마운트되면 부작용 실행을 위해 `componentDidMount()`를 설정합니다. 관심이 있는 경우 이러한 방법에 대해 자세히 알아볼 수 있습니다.

그러나 이제 대부분의 React 개발자가 React 기능 구성 요소를 사용하므로, 우리는 React 후크를 사용하여 관리되는 기능 구성 요소와 해당 상태에 초점을 맞출 것입니다.

이 기사에서는 기능 구성 요소 내에서 상태를 관리하기 위해 찾은 몇 가지 모범 사례를 살펴보고 Reacthooks API를 활용할 것입니다.

# 복합 상태에 대한 감소기 사용

특히 큰 물체를 수반할 수 있는 복잡한 상태 행동을 처리할 때 `사용 상태` 후크가 잘리지 않는 경우가 있다. 사용 감소기 후크는 제3자 의존성이 필요 없는 복잡한 상태 관리를 처리하기 위해 제공되는 강력한 리액션 후크입니다. 또한 각 렌더별로 재생성되는 데이터 양을 줄입니다.

컨텍스트 및 Typescript와 결합하면 useReducer는 놀라울 정도로 강력할 수 있습니다.

이를 실제 환경에서 어떻게 활용할 수 있는지 살펴보겠습니다.

얼마나 더 모듈화되고 읽기 쉬운지 알아보십시오.

# 사용자 지정 후크 FTW(즉, 승자의 경우)

React 훅을 사용할 때 한 가지 목적을 달성하기 위해 여러 유형의 훅을 활용하는 한 구성 요소 내에서 놀라울 정도로 복잡한 상태 로직을 사용할 수 있습니다.

다행히, 우리는 복잡한 논리를 하나의 접근 가능한 후크로 포괄하는 사용자 정의 리액트 후크를 만들 수 있다. 이 기능은 양식, 토글, 비동기식 동작 및 구성 요소에서 후크가 뒤죽박죽이 되는 다른 모든 경우에 유용합니다.

사용자 지정 후크의 예를 살펴봄으로써 항목 목록의 항목을 전환합니다. 코드는 다음과 같습니다.

이러한 모든 논리를 사용자 정의 Reacthook으로 추상화함으로써, 읽기 쉬울 뿐만 아니라 애플리케이션 전반에 걸쳐 재사용할 수 있습니다!

# 글로벌 상태 관리

대부분의 경우 상태 관리 라이브러리가 필요하지 않습니다. 복잡한 상태를 처리하는 대규모 응용프로그램에서만 외부 라이브러리를 가져와 관리해야 합니다.

그런 경우에도 제공된 컨텍스트 API를 사용하여 구성 요소 간에 데이터를 공유할 수 없는 경우 다시 고려하십시오.

외부 상태 관리 툴이 필요하다고 판단되면 글로벌 상태 관리를 위한 초경량 간편한 툴인 Recoil을 확인해 보는 것이 좋습니다. 또 다른 인기있는 도서관은 Redux이다. 이러한 도구를 효과적으로 사용하는 방법에 대한 많은 기사와 토론이 있기 때문에 본 가이드에서는 다루지 않겠습니다.

# 데이터 가져오기 라이브러리 사용

외부 API에서 데이터를 가져오는 것은 겉보기에는 간단한 문제이지만, API 호출 수를 줄이고, 업데이트하고, 여러 장소에서 액세스하기 위해 데이터를 메모리에 캐시해야 하는 경우 상당히 복잡해질 수 있습니다.

다행히 외부 소스에서 데이터를 효과적으로 가져오기, 캐싱, 무효화 및 새로 고치기 위한 ReturnQuery와 같은 최신 데이터 가져오기 라이브러리가 있습니다. 또한 일부 외부 클라이언트로 데이터를 전송하고 서버와 상호 작용하는 전체 워크플로우를 포괄하는 데 사용할 수 있습니다.

더욱이, 아폴로 클라이언트와 같은 이러한 라이브러리들 중 일부는 데이터를 가져오고, 캐슁하고, UI를 자동으로 예측 가능하고, 선언적이고, 읽을 수 있는 방식으로 업데이트하는 모든 프로세스를 처리하기 위해 상태 관리를 포함한다.

# 결론

리액트 상태 관리는 복잡할 수 있지만, 이러한 팁으로 생산적이고 읽기 쉬운 방법으로 할 수 있기를 바랍니다.